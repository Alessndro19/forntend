<div class="bodegas-page">
  <!-- Banner Superior -->
  <section class="banner-section">
    <div class="banner-overlay">
      <div class="content-wrapper">
        <h1 class="main-title">Descubre Nuestras Bodegas Asociadas</h1>

        <p class="banner-description">
          Esquece la nación y también de Bodegas (ca Alianza) en el proceso del canal,<br>
          al cabo en directamente de nuestros vínedos a UNITA.
        </p>

        <div class="button-container">
          <button class="comprar-btn" routerLink="/catalogo">
            COMPRAR AHORA
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Separación visual entre secciones -->
  <div class="section-separator"></div>

  <!-- Sección Inferior con imagen al costado -->
  <section class="info-section">
    <div class="content-wrapper">
      <div class="info-grid">
        <!-- Columna de texto -->
        <div class="text-column">
          <h2 class="section-title">Nuestra Herencia Vitivinícola</h2>

          <p class="info-text">
            Bodegas (ca Alianza es el resultado de generaciones dedicadas al arte de cultivar la vid y producir vinos y piscos de carácter único. Situados en el corazón del valle de Ica, nuestros vínedos se benefician de un clima excepcional que da vida a cada una de nuestras cosechas.
          </p>

          <div class="contact-container">
            <div class="contact-item">
              <span class="contact-icon">[ ]</span>
              <span>Calle Los Víñedos 123, Ica, Perú</span>
            </div>
            <div class="contact-item">
              <span class="contact-icon">[x]</span>
              <span>+51 987 654 321</span>
            </div>
            <div class="contact-item">
              <span class="contact-icon">[ ]</span>
              <span>contacto@bodegashub.com</span>
            </div>
          </div>
        </div>

        <!-- Columna de imagen -->
        <div class="image-column">
          <img src="https://images.unsplash.com/photo-1568213816046-0ee1c42bd559?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80"
               alt="Viñedos de Ica"
               class="info-image">
        </div>
      </div>
    </div>
  </section>

  <!-- SECCIÓN NUEVA: Bodegas desde la Base de Datos -->
  <section class="bodegas-reales-section" *ngIf="bodegas.length > 0">
    <div class="content-wrapper">
      <h2 class="bodegas-reales-title">Nuestras Bodegas Registradas</h2>

      <!-- Estado de carga -->
      <div *ngIf="loading" class="loading-message">
        <p>Cargando bodegas...</p>
      </div>

      <!-- Mensaje de error -->
      <div *ngIf="error && !loading" class="error-message">
        <p>{{ error }}</p>
      </div>

      <!-- Grid de bodegas reales -->
      <div class="bodegas-reales-grid">
        <div *ngFor="let bodega of bodegas" class="bodega-real-card">
          <div class="bodega-real-image">
            <img [src]="bodega.imagenLogo || 'https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'"
                 [alt]="bodega.nombre"
                 class="bodega-real-img">
          </div>
          <div class="bodega-real-content">
            <h3>{{ bodega.nombre }}</h3>
            <p class="bodega-real-descripcion">{{ bodega.descripcion || 'Bodega con tradición y calidad.' }}</p>

            <div class="bodega-real-info">
              <div class="info-item-real">
                <i class="fas fa-user"></i>
                <span>{{ bodega.propietario }}</span>
              </div>
              <div class="info-item-real">
                <i class="fas fa-map-marker-alt"></i>
                <span>{{ bodega.direccion }}</span>
              </div>
              <div class="info-item-real">
                <i class="fas fa-phone"></i>
                <span>{{ bodega.telefono }}</span>
              </div>
              <div class="info-item-real">
                <i class="fas fa-envelope"></i>
                <span>{{ bodega.correo }}</span>
              </div>
            </div>

            <div class="bodega-real-actions">
              <a *ngIf="bodega.ubicacionMaps"
                 [href]="bodega.ubicacionMaps"
                 target="_blank"
                 class="btn-mapa-real">
                <i class="fas fa-map-marker-alt"></i> Ver Mapa
              </a>
              <button class="btn-contactar-real">
                <i class="fas fa-wine-bottle"></i> Productos
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
